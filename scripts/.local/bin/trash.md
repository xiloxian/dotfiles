–ï—Å–ª–∏ –±—É–¥—É—Ç –≤–æ–ø—Ä–æ—Å—ã –ø–æ bspwm, polybar, rofi, –∞–≤—Ç–æ–∑–∞–ø—É—Å–∫—É, —Ç–µ–º–∞–º –∏–ª–∏ –¥–∞–∂–µ –ø–æ —Å–æ–∑–¥–∞–Ω–∏—é —Å–≤–æ–µ–≥–æ lock-—Å–∫—Ä–∏–ø—Ç–∞ ‚Äî –≤—Å–µ–≥–¥–∞ –º–æ–∂–µ—à—å –æ–±—Ä–∞—Ç–∏—Ç—å—Å—è.

–£–¥–∞—á–∏ —Å –Ω–∞—Å—Ç—Ä–æ–π–∫–æ–π —Å–∏—Å—Ç–µ–º—ã! üß†‚öôÔ∏è
(–ò –Ω–µ –∑–∞–±—ã–≤–∞–π –¥–µ–ª–∞—Ç—å –±—ç–∫–∞–ø—ã –∫–æ–Ω—Ñ–∏–≥–æ–≤ üòâ)

–•–æ—á–µ—à—å ‚Äî –º–æ–≥—É –ø–æ–∑–∂–µ –ø–æ–º–æ—á—å —Å–æ–±—Ä–∞—Ç—å –µ–¥–∏–Ω—ã–π dotfiles-—Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π –Ω–∞ GitHub.


---



üìå –ß—Ç–æ –µ—â—ë –º–æ–∂–Ω–æ —Å–¥–µ–ª–∞—Ç—å:
üîê –ï—â—ë –±–æ–ª—å—à–µ –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏:

    –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø—Ä–∞–≤: —É–±–µ–¥–∏—Å—å, —á—Ç–æ —Å–∫—Ä–∏–ø—Ç –Ω–µ –≤—ã–ø–æ–ª–Ω—è–µ—Ç—Å—è –æ—Ç root –±–µ–∑ –Ω—É–∂–¥—ã.

    –ü—Ä–æ–≤–µ—Ä–∫–∞, –∞–∫—Ç–∏–≤–µ–Ω –ª–∏ SSH (–µ—Å–ª–∏ –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ).

    –í–µ–¥–µ–Ω–∏–µ –ª–æ–≥–∞ –¥–µ–π—Å—Ç–≤–∏–π ‚Äî –ø–æ–ª–µ–∑–Ω–æ –¥–ª—è –æ—Ç–ª–∞–¥–∫–∏ –∏ –∏—Å—Ç–æ—Ä–∏–∏ (–Ω–∞–ø—Ä–∏–º–µ—Ä, –≤ ~/.local/share/power-menu.log).

–ü—Ä–∏–º–µ—Ä –ª–æ–≥–≥–µ—Ä–∞:

log_action() {
  echo "$(date): $1" >> "$HOME/.local/share/power-menu.log"
}

üéõ –í–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏ –¥–ª—è —Ä–∞—Å—à–∏—Ä–µ–Ω–∏—è:

    Hibernate, Lock, Suspend –ø–æ–∑–∂–µ –º–æ–∂–Ω–æ –ø—Ä–æ—Å—Ç–æ –¥–æ–±–∞–≤–∏—Ç—å.

    –í—ã–±–æ—Ä –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –¥–ª—è logout (–µ—Å–ª–∏ –º—É–ª—å—Ç–∏-–ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∞—è —Å–∏—Å—Ç–µ–º–∞).

    –†–∞–∑–Ω—ã–µ –¥–µ–π—Å—Ç–≤–∏—è –¥–ª—è —Ä–∞–∑–Ω—ã—Ö DE (Wayland/X11).

    –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –≥–æ—Ä—è—á–∏—Ö –∫–ª–∞–≤–∏—à —á–µ—Ä–µ–∑ sxhkd –∏–ª–∏ i3/config.


----

```


#!/usr/bin/env bash

# –û–ø—Ü–∏–∏ —Å –∏–∫–æ–Ω–∫–∞–º–∏ (—Ñ–æ—Ä–º–∞—Ç: "–∏–∫–æ–Ω–∫–∞ label")
options=(
  "ÔÄ£  Lock"
  "ÔÇã  Logout"
  "ÔÜÜ  Suspend"
  "ÔÄû  Reboot"
  "ÔÄë  Shutdown"
)

# –§—É–Ω–∫—Ü–∏—è –¥–ª—è –∑–∞–ø—É—Å–∫–∞ –±–µ–∑–æ–ø–∞—Å–Ω–æ
run_command() {
  if command -v "$1" >/dev/null 2>&1; then
    "$@"
  else
    notify-send "Error" "Command not found: $1"
    exit 1
  fi
}

# –ü–æ–∫–∞–∑—ã–≤–∞–µ–º –º–µ–Ω—é
choice=$(printf '%s\n' "${options[@]}" | rofi -dmenu -p "Power" -theme-str 'window {width: 300;}' -i)

# –í—ã–¥–µ–ª–∏–º —Ç–æ–ª—å–∫–æ —Ç–µ–∫—Å—Ç –±–µ–∑ –∏–∫–æ–Ω–∫–∏ (–≤—Ç–æ—Ä–∞—è —á–∞—Å—Ç—å)
action=$(echo "$choice" | awk '{print $2}')

case "$action" in
  Lock)
    run_command "$HOME/bin/screen-lock"
    ;;
  Logout)
    pkill -KILL -u "$USER"
    ;;
  Suspend)
    systemctl suspend && run_command "$HOME/bin/screen-lock"
    ;;
  Reboot)
    systemctl reboot
    ;;
  Shutdown)
    systemctl poweroff
    ;;
  *)
    # –ü—É—Å—Ç–æ–π –≤—ã–±–æ—Ä –∏–ª–∏ –Ω–µ–∏–∑–≤–µ—Å—Ç–Ω–æ–µ –¥–µ–π—Å—Ç–≤–∏–µ
    exit 0
    ;;
esac

```
